<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Diesel Hub</title>
<link href="https://fonts.googleapis.com/css2?family=Teko:wght@300;400;500;600;700&family=Work+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
:root{--bg:#0B0C0E;--bg2:#12141A;--bg3:#1A1D25;--bg4:#22262F;--amber:#F5A623;--amber-dim:#C4841A;--ag:rgba(245,166,35,.12);--red:#E84545;--green:#34C759;--blue:#4A9EFF;--t1:#F0ECE3;--t2:#9A9CAA;--t3:#5C5E6A;--bd:rgba(255,255,255,.06);--bd2:rgba(255,255,255,.1);--r:12px;--r2:16px}
body{font-family:'Work Sans',sans-serif;background:#000;color:var(--t1);overflow:hidden;height:100vh;display:flex;justify-content:center;align-items:center}
.phone{width:393px;height:852px;background:var(--bg);position:relative;overflow:hidden;border-radius:44px;border:3px solid #1E2028;box-shadow:0 0 0 2px #0A0A0C,0 20px 60px rgba(0,0,0,.8)}
.sbar{height:54px;display:flex;align-items:flex-end;justify-content:space-between;padding:0 28px 8px;font-size:14px;font-weight:600;z-index:200;position:relative}
.sbar-r{display:flex;gap:5px;align-items:center}.sbar-r svg{width:16px;height:16px;fill:var(--t1)}
.sw{height:calc(100% - 54px);position:relative;overflow:hidden}
.scr{position:absolute;inset:0;overflow-y:auto;overflow-x:hidden;scrollbar-width:none;opacity:0;pointer-events:none;transition:opacity .3s,transform .3s;transform:translateX(30px)}
.scr::-webkit-scrollbar{display:none}.scr.on{opacity:1;pointer-events:auto;transform:translateX(0)}
.bnav{position:absolute;bottom:0;left:0;right:0;height:86px;background:linear-gradient(to top,var(--bg) 75%,transparent);display:flex;align-items:center;justify-content:space-around;padding:0 6px 20px;z-index:100}
.ni{display:flex;flex-direction:column;align-items:center;gap:4px;cursor:pointer;padding:8px 16px;border-radius:12px;position:relative}
.ni svg{width:22px;height:22px;stroke:var(--t3);fill:none;stroke-width:1.8;transition:.2s}
.ni span{font-family:'Teko',sans-serif;font-size:11px;color:var(--t3);text-transform:uppercase;letter-spacing:1.5px;transition:.2s}
.ni.on svg{stroke:var(--amber)}.ni.on span{color:var(--amber)}
.ni.on::after{content:'';position:absolute;top:0;left:50%;transform:translateX(-50%);width:18px;height:3px;background:var(--amber);border-radius:2px}
.hid{display:none!important}
@keyframes fu{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}

/* Login */
#s-login{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 28px;background:radial-gradient(ellipse at 50% 20%,rgba(245,166,35,.04),transparent 60%)}
.ll{width:72px;height:72px;background:linear-gradient(135deg,var(--amber),var(--amber-dim));border-radius:18px;display:flex;align-items:center;justify-content:center;margin-bottom:20px;box-shadow:0 8px 32px rgba(245,166,35,.25)}
.ll svg{width:38px;height:38px;fill:var(--bg)}
.lt{font-family:'Teko',sans-serif;font-size:40px;font-weight:600;letter-spacing:3px;text-transform:uppercase;line-height:1}
.lt em{font-style:normal;color:var(--amber)}
.ls{color:var(--t3);font-size:13px;margin-top:4px;margin-bottom:32px}
.fg{width:100%;margin-bottom:14px;position:relative}
.fg label{display:block;font-family:'Teko',sans-serif;font-size:13px;text-transform:uppercase;letter-spacing:1.5px;color:var(--t3);margin-bottom:6px}
.fi{width:100%;height:50px;background:var(--bg3);border:1px solid var(--bd2);border-radius:var(--r);padding:0 16px;font-size:15px;color:var(--t1);font-family:'Work Sans',sans-serif;outline:none;transition:.2s}
.fi:focus{border-color:var(--amber);box-shadow:0 0 0 3px var(--ag)}.fi::placeholder{color:var(--t3)}
.bp{width:100%;height:52px;background:linear-gradient(135deg,var(--amber),var(--amber-dim));border:none;border-radius:var(--r);font-family:'Teko',sans-serif;font-size:20px;font-weight:600;letter-spacing:2px;text-transform:uppercase;color:var(--bg);cursor:pointer;margin-top:8px;transition:.2s}
.bp:active{transform:scale(.97)}.bp.dis{opacity:.4;pointer-events:none}
.la{margin-top:20px;font-size:13px;color:var(--t3)}.la a{color:var(--amber);text-decoration:none;font-weight:600}
.ld{display:flex;align-items:center;gap:12px;width:100%;margin:20px 0}.ld::before,.ld::after{content:'';flex:1;height:1px;background:var(--bd2)}.ld span{font-size:11px;color:var(--t3);text-transform:uppercase;letter-spacing:1px}
.sb{display:flex;gap:10px;width:100%}
.sbt{flex:1;height:46px;background:var(--bg3);border:1px solid var(--bd2);border-radius:var(--r);display:flex;align-items:center;justify-content:center;gap:8px;cursor:pointer;font-size:13px;font-weight:600;color:var(--t2)}.sbt:active{transform:scale(.96)}.sbt svg{width:18px;height:18px}
.pwt{position:absolute;right:14px;top:34px;cursor:pointer;color:var(--t3)}.pwt svg{width:18px;height:18px;stroke:currentColor;fill:none;stroke-width:1.8}

/* Vehicle */
#s-veh{padding:20px 22px 40px}
.vh{text-align:center;margin-bottom:24px}.vh h2{font-family:'Teko',sans-serif;font-size:28px;font-weight:600;letter-spacing:2px;text-transform:uppercase}.vh p{color:var(--t3);font-size:13px;margin-top:4px}
.vsb{display:flex;gap:6px;margin-bottom:24px}.vs{flex:1;height:4px;border-radius:2px;background:var(--bg4);transition:.4s}.vs.dn{background:var(--amber)}.vs.cu{background:var(--amber);opacity:.5}
.vsg{margin-bottom:16px}.vsg label{display:block;font-family:'Teko',sans-serif;font-size:14px;text-transform:uppercase;letter-spacing:1.5px;color:var(--t3);margin-bottom:8px}
.vo{display:flex;flex-wrap:wrap;gap:8px}
.vop{padding:10px 18px;background:var(--bg3);border:1.5px solid var(--bd2);border-radius:10px;font-size:13px;font-weight:600;color:var(--t2);cursor:pointer;transition:.2s;white-space:nowrap}.vop:active{transform:scale(.95)}.vop.sel{border-color:var(--amber);background:var(--ag);color:var(--amber)}
.vp{background:var(--bg3);border:1px solid var(--bd2);border-radius:var(--r2);padding:18px;margin-top:20px;margin-bottom:18px}
.vpt{font-family:'Teko',sans-serif;font-size:15px;color:var(--t3);text-transform:uppercase;letter-spacing:1.5px;margin-bottom:10px}
.vpn{font-family:'Teko',sans-serif;font-size:26px;font-weight:600;color:var(--amber);line-height:1.1}
.vpe{font-size:13px;color:var(--t2);margin-top:4px}
.vtg{display:flex;gap:6px;margin-top:10px}.vtgi{padding:4px 10px;border-radius:6px;font-size:10px;font-weight:600;text-transform:uppercase;letter-spacing:.8px;background:var(--bg4);color:var(--t2)}

/* AI */
#s-ai{padding:16px 22px 100px}
.ait{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.ait h2{font-family:'Teko',sans-serif;font-size:24px;font-weight:600;letter-spacing:2px;text-transform:uppercase}
.aic{padding:6px 12px;background:var(--ag);border:1px solid rgba(245,166,35,.2);border-radius:8px;font-size:11px;font-weight:600;color:var(--amber);font-family:'Teko',sans-serif;letter-spacing:1px}
.ach{display:flex;flex-direction:column;gap:12px;margin-bottom:16px;min-height:200px}
@keyframes mi{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
.am{max-width:85%;padding:14px 16px;border-radius:var(--r2);font-size:13.5px;line-height:1.55;animation:mi .3s ease}
.am.bot{background:var(--bg3);border:1px solid var(--bd);align-self:flex-start;border-bottom-left-radius:4px}
.am.usr{background:linear-gradient(135deg,rgba(245,166,35,.15),rgba(245,166,35,.08));border:1px solid rgba(245,166,35,.15);align-self:flex-end;border-bottom-right-radius:4px}
.am .bn{font-family:'Teko',sans-serif;font-size:12px;color:var(--amber);text-transform:uppercase;letter-spacing:1px;margin-bottom:4px}
.asg{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:16px}
.as{padding:8px 14px;background:var(--bg3);border:1px solid var(--bd2);border-radius:20px;font-size:12px;color:var(--t2);cursor:pointer;transition:.2s}.as:active{transform:scale(.95);border-color:var(--amber)}
.aua{background:var(--bg3);border:2px dashed var(--bd2);border-radius:var(--r2);padding:24px;text-align:center;cursor:pointer;margin-bottom:16px;transition:.2s}
.aua:active{border-color:var(--amber);background:var(--ag)}
.aua svg{width:32px;height:32px;stroke:var(--t3);fill:none;stroke-width:1.5;margin-bottom:8px}.aua p{font-size:13px;color:var(--t3)}.aua span{font-size:11px;color:var(--t3);opacity:.6;display:block;margin-top:4px}
.aui{display:flex;gap:8px;margin-bottom:14px;flex-wrap:wrap}
.auimg{width:72px;height:72px;border-radius:10px;background:var(--bg4);border:1px solid var(--bd2);overflow:hidden;position:relative}
.auimg img{width:100%;height:100%;object-fit:cover}
.auimg .ri{position:absolute;top:-4px;right:-4px;width:20px;height:20px;background:var(--red);border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:10px;font-weight:700;color:#fff;border:2px solid var(--bg)}
.air{display:flex;gap:8px;position:sticky;bottom:90px;background:var(--bg);padding:8px 0;z-index:10}
.aip{flex:1;height:46px;background:var(--bg3);border:1px solid var(--bd2);border-radius:var(--r);padding:0 14px;font-size:14px;color:var(--t1);font-family:'Work Sans',sans-serif;outline:none;transition:.2s}.aip:focus{border-color:var(--amber)}
.asb{width:46px;height:46px;background:var(--amber);border:none;border-radius:var(--r);display:flex;align-items:center;justify-content:center;cursor:pointer;flex-shrink:0}.asb:active{transform:scale(.9)}.asb svg{width:20px;height:20px;fill:var(--bg)}
.aib{width:46px;height:46px;background:var(--bg3);border:1px solid var(--bd2);border-radius:var(--r);display:flex;align-items:center;justify-content:center;cursor:pointer;flex-shrink:0}.aib:active{transform:scale(.9);border-color:var(--amber)}.aib svg{width:20px;height:20px;stroke:var(--t2);fill:none;stroke-width:1.8}

/* Market */
#s-mkt{padding:16px 22px 100px}
.mt{display:flex;justify-content:space-between;align-items:center;margin-bottom:14px}.mt h2{font-family:'Teko',sans-serif;font-size:24px;font-weight:600;letter-spacing:2px;text-transform:uppercase}
.cb{position:relative;width:40px;height:40px;background:var(--bg3);border:1px solid var(--bd2);border-radius:10px;display:flex;align-items:center;justify-content:center;cursor:pointer}.cb svg{width:20px;height:20px;stroke:var(--t2);fill:none;stroke-width:1.8}
.cbd{position:absolute;top:-5px;right:-5px;min-width:18px;height:18px;background:var(--red);border-radius:9px;font-size:10px;font-weight:700;display:flex;align-items:center;justify-content:center;border:2px solid var(--bg);padding:0 4px;color:#fff;transition:transform .2s}
.mvf{padding:8px 14px;background:var(--ag);border:1px solid rgba(245,166,35,.2);border-radius:10px;display:flex;align-items:center;gap:8px;margin-bottom:14px;font-size:12px;color:var(--amber);font-weight:600}
.mvf svg{width:14px;height:14px;stroke:var(--amber);fill:none;stroke-width:2}
.mcs{display:flex;gap:6px;overflow-x:auto;padding-bottom:8px;margin-bottom:14px;scrollbar-width:none}.mcs::-webkit-scrollbar{display:none}
.mc{padding:8px 16px;background:var(--bg3);border:1.5px solid var(--bd2);border-radius:20px;font-family:'Teko',sans-serif;font-size:14px;letter-spacing:1px;color:var(--t2);cursor:pointer;white-space:nowrap;transition:.2s}.mc.on{border-color:var(--amber);background:var(--ag);color:var(--amber)}
.msr{position:relative;margin-bottom:14px}
.msr input{width:100%;height:44px;background:var(--bg3);border:1px solid var(--bd);border-radius:var(--r);padding:0 14px 0 40px;font-size:13px;color:var(--t1);outline:none;font-family:'Work Sans',sans-serif}.msr input::placeholder{color:var(--t3)}.msr input:focus{border-color:var(--amber)}
.msr svg{position:absolute;left:12px;top:50%;transform:translateY(-50%);width:18px;height:18px;stroke:var(--t3);fill:none;stroke-width:1.8}
.mg{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.mkc{background:var(--bg3);border:1px solid var(--bd);border-radius:var(--r2);overflow:hidden;cursor:pointer;transition:.2s}.mkc:active{transform:scale(.97)}
.mki{height:120px;background:var(--bg4);display:flex;align-items:center;justify-content:center;position:relative}.mki .pi{font-size:42px;opacity:.7}
.mkf{position:absolute;top:8px;left:8px;padding:3px 8px;border-radius:5px;font-family:'Teko',sans-serif;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.8px;background:rgba(52,199,89,.15);color:var(--green)}
.mkin{padding:12px}.mkin h4{font-size:12px;font-weight:600;line-height:1.3;margin-bottom:4px}.mkin .mkb{font-size:10px;color:var(--t3);text-transform:uppercase;letter-spacing:.8px;margin-bottom:6px}
.mpr{display:flex;justify-content:space-between;align-items:center}
.mpp{font-family:'Teko',sans-serif;font-size:22px;font-weight:600;color:var(--amber)}
.mab{width:30px;height:30px;background:var(--amber);border-radius:8px;display:flex;align-items:center;justify-content:center;cursor:pointer;border:none}.mab:active{transform:scale(.85)}.mab svg{width:16px;height:16px;stroke:var(--bg);stroke-width:2.5;fill:none}

/* Cart Drawer */
.cd{position:absolute;inset:0;z-index:300;pointer-events:none}.cd.op{pointer-events:auto}
.co{position:absolute;inset:0;background:rgba(0,0,0,.6);opacity:0;transition:.35s}.cd.op .co{opacity:1}
.cp{position:absolute;bottom:0;left:0;right:0;background:var(--bg2);border-radius:24px 24px 0 0;padding:20px 22px 34px;transform:translateY(100%);transition:.4s cubic-bezier(.4,0,.2,1);max-height:75%;overflow-y:auto}.cd.op .cp{transform:translateY(0)}
.ch{width:36px;height:4px;background:var(--bg4);border-radius:2px;margin:0 auto 16px}
.ctt{font-family:'Teko',sans-serif;font-size:22px;font-weight:600;letter-spacing:2px;text-transform:uppercase;margin-bottom:14px}
.ci{display:flex;flex-direction:column;gap:10px;margin-bottom:16px}
.cit{display:flex;gap:12px;padding:12px;background:var(--bg3);border-radius:var(--r);align-items:center}
.cii{width:44px;height:44px;background:var(--bg4);border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:22px;flex-shrink:0}
.cin{flex:1;min-width:0}.cin h5{font-size:12px;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.cin p{font-size:11px;color:var(--t3);margin-top:2px}
.cip{font-family:'Teko',sans-serif;font-size:18px;font-weight:600;color:var(--amber);flex-shrink:0}
.crm{width:24px;height:24px;background:var(--bg4);border-radius:6px;display:flex;align-items:center;justify-content:center;cursor:pointer;flex-shrink:0;border:none;color:var(--t3);font-size:14px;font-weight:700}
.ctl{display:flex;justify-content:space-between;align-items:center;padding:14px 0;border-top:1px solid var(--bd2);margin-bottom:14px}.ctl span{font-size:14px;color:var(--t2)}.ctl strong{font-family:'Teko',sans-serif;font-size:28px;font-weight:600;color:var(--amber)}
.ce{text-align:center;padding:30px 0;color:var(--t3);font-size:14px}
.trk{background:var(--bg3);border:1px solid rgba(74,158,255,.15);border-radius:var(--r2);padding:14px 16px;margin-bottom:14px}
.trkt{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.trk h4{font-family:'Teko',sans-serif;font-size:15px;text-transform:uppercase;letter-spacing:1.5px;color:var(--blue)}
.trks{font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:1px;padding:4px 8px;border-radius:5px;background:rgba(74,158,255,.12);color:var(--blue)}
.trkb{height:4px;background:var(--bg);border-radius:2px;overflow:hidden;margin-bottom:8px}.trkf{height:100%;background:var(--blue);border-radius:2px}.trkd{font-size:11px;color:var(--t3)}

/* Profile */
#s-pro{padding:20px 22px 100px}
.pc{text-align:center;padding:20px 0}
.pa{width:80px;height:80px;border-radius:20px;background:linear-gradient(135deg,var(--amber),var(--amber-dim));margin:0 auto 14px;display:flex;align-items:center;justify-content:center;font-family:'Teko',sans-serif;font-size:34px;font-weight:700;color:var(--bg);box-shadow:0 6px 24px rgba(245,166,35,.25)}
.pn{font-family:'Teko',sans-serif;font-size:26px;font-weight:600;letter-spacing:1px}
.pe{font-size:13px;color:var(--t3);margin-top:2px}
.pvc{background:var(--bg3);border:1px solid var(--bd2);border-radius:var(--r2);padding:16px;margin:18px 0;display:flex;align-items:center;gap:14px}
.pvi{width:50px;height:50px;background:var(--ag);border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:26px;flex-shrink:0}
.pvinfo h4{font-family:'Teko',sans-serif;font-size:18px;font-weight:600;color:var(--amber);letter-spacing:1px}.pvinfo p{font-size:12px;color:var(--t3);margin-top:2px}
.pev{margin-left:auto;padding:6px 12px;background:var(--bg4);border:none;border-radius:8px;font-size:11px;color:var(--t2);font-weight:600;cursor:pointer;font-family:'Work Sans',sans-serif}
.pss{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-bottom:22px}
.pst{background:var(--bg3);border:1px solid var(--bd);border-radius:var(--r);padding:14px 8px;text-align:center}
.psv{font-family:'Teko',sans-serif;font-size:26px;font-weight:600;color:var(--amber);line-height:1}
.psl{font-family:'Teko',sans-serif;font-size:12px;color:var(--t3);text-transform:uppercase;letter-spacing:1px;margin-top:4px}
.pm{display:flex;flex-direction:column;gap:2px}
.pmi{display:flex;align-items:center;gap:14px;padding:14px 16px;background:var(--bg3);cursor:pointer;transition:.15s}.pmi:active{background:var(--bg4)}.pmi:first-child{border-radius:var(--r2) var(--r2) 2px 2px}.pmi:last-child{border-radius:2px 2px var(--r2) var(--r2)}
.pmico{width:36px;height:36px;background:var(--bg4);border-radius:10px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.pmico svg{width:18px;height:18px;stroke:var(--t2);fill:none;stroke-width:1.8}
.pml{flex:1;font-size:14px;font-weight:500}
.pmch{color:var(--t3);font-family:'Teko',sans-serif;font-size:20px}
.plo{width:100%;height:48px;background:transparent;border:1.5px solid rgba(232,69,69,.25);border-radius:var(--r);margin-top:18px;font-family:'Teko',sans-serif;font-size:18px;font-weight:500;letter-spacing:2px;text-transform:uppercase;color:var(--red);cursor:pointer}.plo:active{background:rgba(232,69,69,.08)}

@media(max-height:900px){.phone{transform:scale(.85);transform-origin:center}}
@media(max-height:750px){.phone{transform:scale(.72);transform-origin:center}}
@media(max-width:420px){.phone{width:100%;height:100vh;border-radius:0;border:none;box-shadow:none}}
</style>
</head>
<body>
<div class="phone">
<div class="sbar"><span>9:41</span><div class="sbar-r"><svg viewBox="0 0 24 24"><path d="M1 9l2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9zm8 8l3 3 3-3a4.24 4.24 0 0 0-6 0zm-4-4l2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13z"/></svg><svg viewBox="0 0 24 24"><path d="M2 22h20V2z"/></svg><svg viewBox="0 0 24 24"><rect x="1" y="6" width="18" height="12" rx="2"/><line x1="23" y1="13" x2="23" y2="11" stroke="currentColor" stroke-width="2" fill="none"/></svg></div></div>
<div class="sw">

<!-- LOGIN -->
<div class="scr on" id="s-login">
<div class="ll"><svg viewBox="0 0 24 24"><path d="M19 17h2a2 2 0 002-2v-2a4 4 0 00-4-4h-1V7a5 5 0 00-10 0v2H7a4 4 0 00-4 4v2a2 2 0 002 2h2m4 0v4m4-4v4M8 17h8"/></svg></div>
<div class="lt">Diesel<em>Hub</em></div>
<div class="ls">Parts ¬∑ Diagnostics ¬∑ Done right.</div>
<div class="fg"><label>Email</label><input class="fi" type="email" placeholder="you@email.com"></div>
<div class="fg"><label>Password</label><input class="fi" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" id="lpw"><div class="pwt" onclick="let i=document.getElementById('lpw');i.type=i.type==='password'?'text':'password'"><svg viewBox="0 0 24 24"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg></div></div>
<button class="bp" onclick="go('veh')">Sign In</button>
<div class="ld"><span>or</span></div>
<div class="sb"><div class="sbt"><svg viewBox="0 0 24 24" fill="#4285F4"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 01-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z"/><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/></svg>Google</div><div class="sbt"><svg viewBox="0 0 24 24" fill="#fff"><path d="M16.37 1.43c0 1.14-.5 2.27-1.18 3.08-.74.9-1.99 1.57-2.99 1.57-.18 0-.36-.02-.53-.06.02-.15.03-.32.03-.48 0-1.08.47-2.24 1.18-3.05C13.61 1.73 14.97 1 16.37 1l.03.43zm3.13 17.81c-.68 1.34-1.47 2.58-2.67 2.58-.93 0-1.24-.6-2.37-.6-1.15 0-1.5.58-2.38.6-1.14.03-2-1.32-2.69-2.66-1.44-2.72-1.6-5.93-.7-7.63.63-1.2 1.77-1.95 2.98-1.95 1.11 0 1.81.6 2.73.6.89 0 1.43-.6 2.72-.6 1.06 0 2.06.58 2.68 1.58-2.36 1.3-1.97 4.68.38 5.58-.46 1.17-.68 1.69-1.37 2.72l-.31.38z"/></svg>Apple</div></div>
<div class="la">Don't have an account? <a href="#">Sign Up</a></div>
</div>

<!-- VEHICLE SETUP -->
<div class="scr" id="s-veh">
<div class="vh"><h2>Set Up Your Truck</h2><p>We'll only show parts that fit your rig</p></div>
<div class="vsb"><div class="vs" id="vs1"></div><div class="vs" id="vs2"></div><div class="vs" id="vs3"></div><div class="vs" id="vs4"></div></div>
<div class="vsg" id="vg-year"><label>Year</label><div class="vo" id="yearO"></div></div>
<div class="vsg hid" id="vg-make"><label>Make</label><div class="vo" id="makeO"></div></div>
<div class="vsg hid" id="vg-model"><label>Model</label><div class="vo" id="modelO"></div></div>
<div class="vsg hid" id="vg-engine"><label>Engine</label><div class="vo" id="engineO"></div></div>
<div class="vp hid" id="vprev"><div class="vpt">Your Vehicle</div><div class="vpn" id="vpn"></div><div class="vpe" id="vpen"></div><div class="vtg" id="vtags"></div></div>
<button class="bp hid" id="vcon" onclick="confirmV()">Continue to Diesel Hub</button>
</div>

<!-- AI -->
<div class="scr" id="s-ai">
<div class="ait"><h2>AI Diagnostics</h2><div class="aic" id="aiChip">‚Äî</div></div>
<div class="ach" id="aiChat"><div class="am bot"><div class="bn">DieselHub AI</div>Hey! I'm set up for your truck. Describe your issue, upload a photo, or pick a common problem below.</div></div>
<div class="asg" id="aiSugs"></div>
<div class="aua" onclick="document.getElementById('aiF').click()"><svg viewBox="0 0 24 24" stroke-width="1.5"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg><p>Tap to upload a photo</p><span>Engine bay, codes, damage ‚Äî anything helps</span><input type="file" id="aiF" accept="image/*" multiple style="display:none" onchange="aiUpload(event)"></div>
<div class="aui hid" id="aiImgs"></div>
<div class="air">
<div class="aib" onclick="document.getElementById('aiF').click()"><svg viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg></div>
<input class="aip" placeholder="Describe your issue‚Ä¶" id="aiIn" onkeydown="if(event.key==='Enter')sendMsg()">
<button class="asb" onclick="sendMsg()"><svg viewBox="0 0 24 24"><path d="M22 2L11 13"/><path d="M22 2l-7 20-4-9-9-4 20-7z"/></svg></button>
</div>
</div>

<!-- MARKETPLACE -->
<div class="scr" id="s-mkt">
<div class="mt"><h2>Marketplace</h2><div class="cb" onclick="toggleCart()"><svg viewBox="0 0 24 24"><circle cx="9" cy="21" r="1"/><circle cx="20" cy="21" r="1"/><path d="M1 1h4l2.68 13.39a2 2 0 002 1.61h9.72a2 2 0 002-1.61L23 6H6"/></svg><div class="cbd" id="cBadge">0</div></div></div>
<div class="trk hid" id="mTrk"><div class="trkt"><h4>Order #DH-4821</h4><span class="trks">In Transit</span></div><div class="trkb"><div class="trkf" style="width:65%"></div></div><div class="trkd">Est. delivery: Today by 5:00 PM</div></div>
<div class="mvf"><svg viewBox="0 0 24 24"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg><span id="mVehTxt">Showing parts for: ‚Äî</span></div>
<div class="mcs" id="mCats"></div>
<div class="msr"><svg viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg><input placeholder="Search parts‚Ä¶" id="mSrch" oninput="renderProds()"></div>
<div class="mg" id="mGrid"></div>
</div>

<!-- PROFILE -->
<div class="scr" id="s-pro">
<div class="pc"><div class="pa">JD</div><div class="pn">John Doe</div><div class="pe"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="5a303532343e353f1a3f373b333674393537">[email&#160;protected]</a></div></div>
<div class="pvc"><div class="pvi">üöõ</div><div class="pvinfo"><h4 id="pVeh">No vehicle set</h4><p id="pEng">‚Äî</p></div><button class="pev" onclick="go('veh')">Edit</button></div>
<div class="pss"><div class="pst"><div class="psv">7</div><div class="psl">Orders</div></div><div class="pst"><div class="psv">$2.4K</div><div class="psl">Spent</div></div><div class="pst"><div class="psv">12</div><div class="psl">AI Chats</div></div></div>
<div class="pm">
<div class="pmi"><div class="pmico"><svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/></svg></div><span class="pml">Order History</span><span class="pmch">‚Ä∫</span></div>
<div class="pmi"><div class="pmico"><svg viewBox="0 0 24 24"><rect x="1" y="4" width="22" height="16" rx="2"/><line x1="1" y1="10" x2="23" y2="10"/></svg></div><span class="pml">Payment Methods</span><span class="pmch">‚Ä∫</span></div>
<div class="pmi"><div class="pmico"><svg viewBox="0 0 24 24"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></svg></div><span class="pml">Saved Addresses</span><span class="pmch">‚Ä∫</span></div>
<div class="pmi"><div class="pmico"><svg viewBox="0 0 24 24"><path d="M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 01-3.46 0"/></svg></div><span class="pml">Notifications</span><span class="pmch">‚Ä∫</span></div>
<div class="pmi"><div class="pmico"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 015.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg></div><span class="pml">Help & Support</span><span class="pmch">‚Ä∫</span></div>
</div>
<button class="plo" onclick="go('login')">Sign Out</button>
</div>

<!-- CART DRAWER -->
<div class="cd" id="cDraw"><div class="co" onclick="toggleCart()"></div><div class="cp"><div class="ch"></div><div class="ctt">Your Cart</div><div class="ci" id="cItems"><div class="ce">Your cart is empty</div></div><div class="ctl"><span>Total</span><strong id="cTot">$0</strong></div><button class="bp" onclick="checkout()">Checkout</button></div></div>

<!-- BOTTOM NAV -->
<div class="bnav hid" id="bnav">
<div class="ni on" data-s="ai" onclick="nav(this)"><svg viewBox="0 0 24 24"><path d="M12 2a7 7 0 017 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 01-1 1H9a1 1 0 01-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 017-7z"/><line x1="9" y1="21" x2="15" y2="21"/><line x1="10" y1="24" x2="14" y2="24"/></svg><span>AI</span></div>
<div class="ni" data-s="mkt" onclick="nav(this)"><svg viewBox="0 0 24 24"><path d="M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 01-8 0"/></svg><span>Shop</span></div>
<div class="ni" data-s="pro" onclick="nav(this)"><svg viewBox="0 0 24 24"><path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/><circle cx="12" cy="7" r="4"/></svg><span>Profile</span></div>
</div>
</div>
</div>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
const DB={Dodge:{"Ram 2500":{y:[1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024],e:{"1994-1998":["5.9L 12V Cummins","8.0L V10 Magnum"],"1998-2002":["5.9L 24V Cummins ISB","8.0L V10 Magnum"],"2003-2007":["5.9L Cummins ISB 325","5.7L HEMI V8"],"2007-2012":["6.7L Cummins ISB","5.7L HEMI V8"],"2013-2018":["6.7L Cummins ISB 385","6.4L HEMI V8"],"2019-2024":["6.7L Cummins HO 420","6.4L HEMI V8"]}},"Ram 3500":{y:[1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024],e:{"1994-1998":["5.9L 12V Cummins"],"1998-2002":["5.9L 24V Cummins ISB"],"2003-2007":["5.9L Cummins ISB 325"],"2007-2012":["6.7L Cummins ISB"],"2013-2018":["6.7L Cummins ISB 385"],"2019-2024":["6.7L Cummins HO 420"]}}},Ford:{"F-250":{y:[1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024],e:{"1999-2003":["7.3L Power Stroke V8","5.4L Triton V8"],"2003-2007":["6.0L Power Stroke V8","5.4L Triton V8"],"2008-2010":["6.4L Power Stroke V8","5.4L Triton V8"],"2011-2016":["6.7L Power Stroke V8","6.2L Boss V8"],"2017-2019":["6.7L Power Stroke V8 Gen2","6.2L Boss V8"],"2020-2024":["6.7L Power Stroke V8 Gen3","7.3L Godzilla V8"]}},"F-350":{y:[1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024],e:{"1999-2003":["7.3L Power Stroke V8"],"2003-2007":["6.0L Power Stroke V8"],"2008-2010":["6.4L Power Stroke V8"],"2011-2016":["6.7L Power Stroke V8"],"2017-2019":["6.7L Power Stroke V8 Gen2"],"2020-2024":["6.7L Power Stroke V8 Gen3"]}}},Chevrolet:{"Silverado 2500HD":{y:[2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024],e:{"2001-2004":["6.6L Duramax LB7","6.0L Vortec V8"],"2004-2006":["6.6L Duramax LLY","6.0L Vortec V8"],"2006-2007":["6.6L Duramax LBZ","6.0L Vortec V8"],"2007-2010":["6.6L Duramax LMM","6.0L Vortec V8"],"2011-2016":["6.6L Duramax LML","6.0L Vortec V8"],"2017-2019":["6.6L Duramax L5P","6.0L Vortec V8"],"2020-2024":["6.6L Duramax L5P Gen2","6.6L V8 Gas"]}},"Silverado 3500HD":{y:[2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024],e:{"2001-2004":["6.6L Duramax LB7"],"2004-2006":["6.6L Duramax LLY"],"2006-2007":["6.6L Duramax LBZ"],"2007-2010":["6.6L Duramax LMM"],"2011-2016":["6.6L Duramax LML"],"2017-2019":["6.6L Duramax L5P"],"2020-2024":["6.6L Duramax L5P Gen2"]}}},GMC:{"Sierra 2500HD":{y:[2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024],e:{"2001-2004":["6.6L Duramax LB7","6.0L Vortec V8"],"2004-2006":["6.6L Duramax LLY"],"2006-2007":["6.6L Duramax LBZ"],"2007-2010":["6.6L Duramax LMM"],"2011-2016":["6.6L Duramax LML"],"2017-2019":["6.6L Duramax L5P"],"2020-2024":["6.6L Duramax L5P Gen2"]}}}};

const PDB={cummins59:{m:["5.9L 12V Cummins","5.9L 24V Cummins ISB","5.9L Cummins ISB 325"],cats:["Injectors","Turbo","Fuel System","Exhaust","Engine","Filters"],prods:[{n:"Bosch Injector Set (6)",b:"Bosch",p:689,c:"Injectors",i:"üíâ"},{n:"HX35W Turbo Rebuild Kit",b:"Holset",p:249,c:"Turbo",i:"üåÄ"},{n:"VP44 Injection Pump Reman",b:"Industrial Injection",p:1295,c:"Fuel System",i:"‚õΩ"},{n:"FASS Lift Pump 150GPH",b:"FASS",p:549,c:"Fuel System",i:"‚õΩ"},{n:'4" Turbo-Back Exhaust',b:"MBRP",p:379,c:"Exhaust",i:"üí®"},{n:"Head Gasket Set",b:"Mahle",p:189,c:"Engine",i:"üîß"},{n:"Fleetguard Oil Filter 3pk",b:"Cummins",p:34,c:"Filters",i:"üõ¢Ô∏è"},{n:"Fuel Filter/Water Sep",b:"Fleetguard",p:28,c:"Filters",i:"üõ¢Ô∏è"},{n:"Grid Heater Delete Kit",b:"BD Diesel",p:149,c:"Engine",i:"‚ö°"},{n:"Killer Dowel Pin Kit",b:"Industrial Injection",p:39,c:"Engine",i:"üîß"}]},cummins67:{m:["6.7L Cummins ISB","6.7L Cummins ISB 385","6.7L Cummins HO 420"],cats:["Injectors","Turbo","Fuel System","DPF/DEF","Engine","Filters"],prods:[{n:"Bosch Reman Injector Set (6)",b:"Bosch",p:1849,c:"Injectors",i:"üíâ"},{n:"HE351VE VGT Turbo Reman",b:"Holset",p:1195,c:"Turbo",i:"üåÄ"},{n:"CP3 Injection Pump",b:"Bosch",p:895,c:"Fuel System",i:"‚õΩ"},{n:"FASS Titanium 250GPH",b:"FASS",p:749,c:"Fuel System",i:"‚õΩ"},{n:'5" DPF-Back Exhaust',b:"aFe Power",p:549,c:"Exhaust",i:"üí®"},{n:"DPF Cleaning Kit",b:"DET",p:189,c:"DPF/DEF",i:"‚ôªÔ∏è"},{n:"DEF Fluid 2.5 Gal",b:"BlueDEF",p:18,c:"DPF/DEF",i:"‚ôªÔ∏è"},{n:"EGR Cooler",b:"Dorman",p:449,c:"Engine",i:"üîß"}]},ps73:{m:["7.3L Power Stroke V8"],cats:["Injectors","Turbo","Fuel System","Exhaust","Electrical"],prods:[{n:"AD Injector Set (8)",b:"Alliant Power",p:1249,c:"Injectors",i:"üíâ"},{n:"GTP38 Turbo Reman",b:"Garrett",p:549,c:"Turbo",i:"üåÄ"},{n:"HPOP Oil Pump",b:"Motorcraft",p:695,c:"Fuel System",i:"‚õΩ"},{n:'4" Turbo-Back Exhaust',b:"Diamond Eye",p:349,c:"Exhaust",i:"üí®"},{n:"Glow Plug Set (8)",b:"Motorcraft",p:89,c:"Electrical",i:"‚ö°"},{n:"ICP Sensor",b:"Alliant Power",p:59,c:"Electrical",i:"‚ö°"},{n:"CPS Cam Sensor",b:"Motorcraft",p:42,c:"Electrical",i:"‚ö°"},{n:"Turbo Up Pipes",b:"Dorman",p:189,c:"Exhaust",i:"üí®"}]},ps60:{m:["6.0L Power Stroke V8"],cats:["Injectors","Turbo","Head Studs","EGR","Fuel System","Engine"],prods:[{n:"Reman Injector Set (8)",b:"Alliant Power",p:2495,c:"Injectors",i:"üíâ"},{n:"GT3782VA Turbo Reman",b:"Garrett",p:795,c:"Turbo",i:"üåÄ"},{n:"ARP Head Stud Kit",b:"ARP",p:449,c:"Head Studs",i:"üî©"},{n:"EGR Delete Kit",b:"Sinister Diesel",p:289,c:"EGR",i:"üîß"},{n:"Oil Cooler",b:"Dorman",p:219,c:"Engine",i:"üîß"},{n:"HPOP Pump",b:"Motorcraft",p:845,c:"Fuel System",i:"‚õΩ"},{n:"STC Fitting Kit",b:"Ford OEM",p:79,c:"Fuel System",i:"‚õΩ"},{n:"Dummy Plug Kit (8)",b:"Accurate Diesel",p:109,c:"Fuel System",i:"‚õΩ"}]},ps64:{m:["6.4L Power Stroke V8"],cats:["Injectors","Turbo","DPF/DEF","Engine"],prods:[{n:"Reman Injector Set (8)",b:"Alliant Power",p:3295,c:"Injectors",i:"üíâ"},{n:"Compound Turbo Reman",b:"Garrett",p:1695,c:"Turbo",i:"üåÄ"},{n:"DPF Filter Assembly",b:"Dorman",p:995,c:"DPF/DEF",i:"‚ôªÔ∏è"},{n:"Injector Sleeve Set",b:"Alliant Power",p:249,c:"Engine",i:"üîß"},{n:"HFCM Fuel Module",b:"Motorcraft",p:389,c:"Engine",i:"‚õΩ"}]},ps67:{m:["6.7L Power Stroke V8","6.7L Power Stroke V8 Gen2","6.7L Power Stroke V8 Gen3"],cats:["Injectors","Turbo","Fuel System","DPF/DEF","Filters"],prods:[{n:"Bosch Injector Set (8)",b:"Bosch",p:3695,c:"Injectors",i:"üíâ"},{n:"GT32 Turbo Assembly",b:"Garrett",p:1495,c:"Turbo",i:"üåÄ"},{n:"CP4 to CP3 Conversion",b:"S&S Diesel",p:2195,c:"Fuel System",i:"‚õΩ"},{n:"DPF Cleaning Kit",b:"FSX",p:219,c:"DPF/DEF",i:"‚ôªÔ∏è"},{n:"DEF Fluid 2.5 Gal",b:"BlueDEF",p:18,c:"DPF/DEF",i:"‚ôªÔ∏è"},{n:"Motorcraft Oil Filter 3pk",b:"Motorcraft",p:36,c:"Filters",i:"üõ¢Ô∏è"},{n:"Fuel Filter Kit",b:"Motorcraft",p:58,c:"Filters",i:"üõ¢Ô∏è"}]},dmax:{m:["6.6L Duramax LB7","6.6L Duramax LLY","6.6L Duramax LBZ","6.6L Duramax LMM","6.6L Duramax LML","6.6L Duramax L5P","6.6L Duramax L5P Gen2"],cats:["Injectors","Turbo","Fuel System","Exhaust","Allison Trans","Filters"],prods:[{n:"Bosch Injector Set (8)",b:"Bosch",p:2195,c:"Injectors",i:"üíâ"},{n:"Garrett Turbo Reman",b:"Garrett",p:895,c:"Turbo",i:"üåÄ"},{n:"CP3 Injection Pump",b:"Bosch",p:749,c:"Fuel System",i:"‚õΩ"},{n:"FASS 150GPH Lift Pump",b:"FASS",p:549,c:"Fuel System",i:"‚õΩ"},{n:'4" Turbo-Back Exhaust',b:"MBRP",p:399,c:"Exhaust",i:"üí®"},{n:"ACDelco Oil Filter 3pk",b:"ACDelco",p:32,c:"Filters",i:"üõ¢Ô∏è"},{n:"Allison Trans Filter Kit",b:"ACDelco",p:89,c:"Allison Trans",i:"‚öôÔ∏è"},{n:"Allison Shift Kit",b:"Suncoast",p:349,c:"Allison Trans",i:"‚öôÔ∏è"},{n:"Water Pump",b:"ACDelco",p:179,c:"Fuel System",i:"üîß"}]}};

let S={v:{year:null,make:null,model:null,engine:null},cart:[],ef:null,cat:'All'};

function go(id){document.querySelectorAll('.scr').forEach(s=>s.classList.remove('on'));document.getElementById('s-'+id).classList.add('on');document.getElementById('bnav').classList.toggle('hid',!['ai','mkt','pro'].includes(id));if(['ai','mkt','pro'].includes(id))document.querySelectorAll('.ni').forEach(n=>n.classList.toggle('on',n.dataset.s===id))}
function nav(el){document.querySelectorAll('.ni').forEach(n=>n.classList.remove('on'));el.classList.add('on');document.querySelectorAll('.scr').forEach(s=>s.classList.remove('on'));document.getElementById('s-'+el.dataset.s).classList.add('on')}

// Vehicle setup
function initYears(){const el=document.getElementById('yearO');['2020-2024','2015-2019','2010-2014','2005-2009','2000-2004','1994-1999'].forEach(d=>{const o=document.createElement('div');o.className='vop';o.textContent=d;o.onclick=()=>expandYears(d);el.appendChild(o)})}
function expandYears(range){const[s,e]=range.split('-').map(Number);const yrs=new Set();Object.values(DB).forEach(mk=>Object.values(mk).forEach(m=>m.y.filter(y=>y>=s&&y<=e).forEach(y=>yrs.add(y))));const el=document.getElementById('yearO');el.innerHTML='';[...yrs].sort((a,b)=>b-a).forEach(y=>{const o=document.createElement('div');o.className='vop';o.textContent=y;o.onclick=()=>pickYear(y,o);el.appendChild(o)})}
function pickYear(y,el){S.v={year:y,make:null,model:null,engine:null};document.querySelectorAll('#yearO .vop').forEach(o=>o.classList.remove('sel'));el.classList.add('sel');stepBar(1);const makes=new Set();Object.entries(DB).forEach(([mk,models])=>{Object.values(models).forEach(m=>{if(m.y.includes(y))makes.add(mk)})});renderOpts('make',[...makes]);show('make');hide(['model','engine']);hidePrev()}
function renderOpts(t,opts){const el=document.getElementById(t+'O');el.innerHTML='';opts.forEach(o=>{const d=document.createElement('div');d.className='vop';d.textContent=o;d.onclick=()=>pickOpt(t,o,d);el.appendChild(d)})}
function pickOpt(t,v,el){S.v[t]=v;document.querySelectorAll('#'+t+'O .vop').forEach(o=>o.classList.remove('sel'));el.classList.add('sel');if(t==='make'){stepBar(2);const models=Object.keys(DB[v]).filter(m=>DB[v][m].y.includes(S.v.year));renderOpts('model',models);show('model');hide(['engine']);S.v.model=S.v.engine=null;hidePrev()}else if(t==='model'){stepBar(3);const md=DB[S.v.make][v];let engs=[];Object.entries(md.e).forEach(([r,es])=>{const[s,e]=r.split('-').map(Number);if(S.v.year>=s&&S.v.year<=e)engs=engs.concat(es)});renderOpts('engine',[...new Set(engs)]);show('engine');S.v.engine=null;hidePrev()}else if(t==='engine'){stepBar(4);showPrev()}}
function show(t){document.getElementById('vg-'+t).classList.remove('hid')}
function hide(a){a.forEach(t=>document.getElementById('vg-'+t).classList.add('hid'))}
function hidePrev(){document.getElementById('vprev').classList.add('hid');document.getElementById('vcon').classList.add('hid')}
function showPrev(){const v=S.v;document.getElementById('vprev').classList.remove('hid');document.getElementById('vcon').classList.remove('hid');document.getElementById('vpn').textContent=`${v.year} ${v.make} ${v.model}`;document.getElementById('vpen').textContent=v.engine;const isDsl=/(cummins|power stroke|duramax)/i.test(v.engine);document.getElementById('vtags').innerHTML=`<div class="vtgi">${isDsl?'üèãÔ∏è Diesel':'‚õΩ Gas'}</div><div class="vtgi">${v.engine.split(' ')[0]}</div>`;S.ef=null;Object.entries(PDB).forEach(([f,d])=>{if(d.m.includes(v.engine))S.ef=f})}
function stepBar(s){for(let i=1;i<=4;i++){const el=document.getElementById('vs'+i);el.className='vs';if(i<s)el.classList.add('dn');else if(i===s)el.classList.add('cu')}}
function confirmV(){const v=S.v;const ch=`${v.year} ${v.make.charAt(0)}. ${v.model}`;document.getElementById('aiChip').textContent=ch;document.getElementById('mVehTxt').textContent=`Showing parts for: ${v.year} ${v.make} ${v.model}`;document.getElementById('pVeh').textContent=`${v.year} ${v.make} ${v.model}`;document.getElementById('pEng').textContent=v.engine;loadMkt();updateSugs();go('ai')}

// AI
function updateSugs(){const e=S.v.engine||'';const el=document.getElementById('aiSugs');let s=[];if(/cummins/i.test(e))s=['Killer dowel pin issue?','VP44 pump failure','White smoke cold start','Turbo lag / boost leak','Grid heater problem'];else if(/7\.3.*power stroke/i.test(e))s=['Hard start no start','CPS sensor failure','Turbo pedestal leak','HPOP losing pressure','Glow plug issues'];else if(/6\.0.*power stroke/i.test(e))s=['Head gasket blown?','EGR cooler failure','HPOP failure','Injector stiction','Oil cooler clogged'];else if(/6\.4.*power stroke/i.test(e))s=['DPF regen problems','Turbo actuator issue','Radiator cracked','Fuel dilution in oil'];else if(/6\.7.*power stroke/i.test(e))s=['CP4 pump failure?','Turbo vane sticking','DEF system warning','Coolant leak','DPF clogged'];else if(/duramax/i.test(e))s=['Injector balance rates','Allison shifting hard','White smoke at idle','Injector failure','Fuel filter light'];else s=['Check engine light','Loss of power','Hard starting','Exhaust smoke','Strange noise'];el.innerHTML='';s.forEach(t=>{const d=document.createElement('div');d.className='as';d.textContent=t;d.onclick=()=>{addMsg('usr',t);d.remove();setTimeout(()=>aiReply(t),600)};el.appendChild(d)})}
function sendMsg(){const inp=document.getElementById('aiIn');const t=inp.value.trim();if(!t)return;addMsg('usr',t);inp.value='';setTimeout(()=>aiReply(t),600)}
function addMsg(type,txt){const c=document.getElementById('aiChat');const d=document.createElement('div');d.className='am '+type;if(type==='bot')d.innerHTML=`<div class="bn">DieselHub AI</div>${txt}`;else d.textContent=txt;c.appendChild(d);d.scrollIntoView({behavior:'smooth',block:'end'})}
function aiReply(msg){const v=S.v;const eng=v.engine||'your engine';const trk=`${v.year} ${v.make} ${v.model}`;const l=msg.toLowerCase();let r='';if(/smoke|white/.test(l))r=`On your <b>${trk}</b> with the <b>${eng}</b>, white exhaust smoke typically means coolant entering combustion. Common causes: head gasket failure, injector cup leak, or cracked head. Start with a coolant level check and compression test. Want me to find the right gasket kit?`;else if(/hard start|no start/.test(l))r=`Hard starting on the <b>${eng}</b> ‚Äî does it crank but not fire, or slow crank? For your ${trk}, common causes: glow plug/grid heater failure, low fuel pressure (lift pump), or injector issues. If it starts easier warm, that usually rules out compression.`;else if(/power|turbo|lag/.test(l))r=`Loss of power on your <b>${trk}</b> could be turbo-related (boost leak, vanes sticking) or fuel delivery (clogged filter, failing lift pump). Start with a boost leak test and check your fuel filter. The ${eng} is known for this at higher mileage.`;else if(/check engine|code|light/.test(l))r=`For your <b>${trk}</b> ‚Äî upload a photo of the code readout or tell me the specific code. Common codes on the <b>${eng}</b>: P0087 (fuel rail), P0401 (EGR flow), P2463 (DPF soot). I can give exact diagnostics with the code.`;else if(/head gasket|blown|overheat/.test(l))r=`Head gasket on the <b>${eng}</b> ‚Äî classic signs: white smoke, mystery coolant loss, milky oil, overheating. For your ${trk}, I'd strongly recommend ARP head studs with the gasket ‚Äî it's the definitive fix. Want me to pull up the parts?`;else if(/dowel pin|kdp/.test(l))r=`The killer dowel pin (KDP) is critical on your <b>${eng}</b>. If it hasn't been addressed, it's a ticking time bomb ‚Äî the pin can drop into the gear train and destroy the engine. The fix is a $39 tab kit and a few hours of labor. Absolutely do this ASAP. Want me to find the kit?`;else if(/vp44|injection pump/.test(l))r=`VP44 failure is extremely common on the <b>${eng}</b>. Symptoms: hard starting, dying at idle, no-start when hot. Before replacing the pump ($1,200+), make sure your lift pump is providing adequate pressure ‚Äî a weak lift pump kills VP44s. I'd recommend a FASS lift pump system alongside the VP44 replacement.`;else r=`Good question about your <b>${trk}</b>. Can you give me more detail? When does it happen (cold vs warm, idle vs load), any codes, and how long it's been going on? You can also upload a photo of the issue or code reader.`;addMsg('bot',r)}
function aiUpload(e){const files=e.target.files;if(!files.length)return;const c=document.getElementById('aiImgs');c.classList.remove('hid');[...files].forEach(f=>{const r=new FileReader();r.onload=ev=>{const d=document.createElement('div');d.className='auimg';d.innerHTML=`<img src="${ev.target.result}"><div class="ri" onclick="this.parentElement.remove();if(!document.getElementById('aiImgs').children.length)document.getElementById('aiImgs').classList.add('hid')">‚úï</div>`;c.appendChild(d)};r.readAsDataURL(f)});setTimeout(()=>{addMsg('usr','üì∑ [Photo uploaded]');setTimeout(()=>addMsg('bot',`Got the image. For your <b>${S.v.year} ${S.v.make} ${S.v.model}</b> with the <b>${S.v.engine}</b> ‚Äî can you tell me what concerns you in this photo? I'll cross-reference with known issues for your engine.`),800)},500);e.target.value=''}

// Marketplace
function loadMkt(){if(!S.ef)return;const d=PDB[S.ef];const el=document.getElementById('mCats');el.innerHTML='';['All',...d.cats].forEach(c=>{const b=document.createElement('div');b.className='mc'+(c==='All'?' on':'');b.textContent=c;b.onclick=()=>{S.cat=c;document.querySelectorAll('.mc').forEach(x=>x.classList.remove('on'));b.classList.add('on');renderProds()};el.appendChild(b)});S.cat='All';renderProds()}
function renderProds(){if(!S.ef)return;const d=PDB[S.ef];const g=document.getElementById('mGrid');g.innerHTML='';const q=(document.getElementById('mSrch').value||'').toLowerCase();let p=d.prods;if(S.cat!=='All')p=p.filter(x=>x.c===S.cat);if(q)p=p.filter(x=>x.n.toLowerCase().includes(q)||x.b.toLowerCase().includes(q));p.forEach((x,idx)=>{const c=document.createElement('div');c.className='mkc';c.innerHTML=`<div class="mki"><span class="pi">${x.i}</span><div class="mkf">‚úì Fits</div></div><div class="mkin"><div class="mkb">${x.b}</div><h4>${x.n}</h4><div class="mpr"><div class="mpp">$${x.p.toLocaleString()}</div><button class="mab" onclick="event.stopPropagation();addCart(${idx})"><svg viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></button></div></div>`;g.appendChild(c)})}
function addCart(idx){const d=PDB[S.ef];let p=d.prods;if(S.cat!=='All')p=p.filter(x=>x.c===S.cat);const q=(document.getElementById('mSrch').value||'').toLowerCase();if(q)p=p.filter(x=>x.n.toLowerCase().includes(q)||x.b.toLowerCase().includes(q));if(p[idx]){S.cart.push({...p[idx]});updBadge();const b=document.getElementById('cBadge');b.style.transform='scale(1.4)';setTimeout(()=>b.style.transform='',200)}}
function updBadge(){document.getElementById('cBadge').textContent=S.cart.length}
function toggleCart(){document.getElementById('cDraw').classList.toggle('op');renderCart()}
function renderCart(){const el=document.getElementById('cItems');if(!S.cart.length){el.innerHTML='<div class="ce">Your cart is empty</div>';document.getElementById('cTot').textContent='$0';return}el.innerHTML='';let t=0;S.cart.forEach((x,i)=>{t+=x.p;const d=document.createElement('div');d.className='cit';d.innerHTML=`<div class="cii">${x.i}</div><div class="cin"><h5>${x.n}</h5><p>${x.b}</p></div><div class="cip">$${x.p.toLocaleString()}</div><button class="crm" onclick="S.cart.splice(${i},1);updBadge();renderCart()">‚úï</button>`;el.appendChild(d)});document.getElem